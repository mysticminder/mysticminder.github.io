<!DOCTYPE html>
<html>
<head>
    <title>Snazzy Maps Super Simple Example</title>

    <script src="https://maps.google.com/maps/api/js?v=3&key=AIzaSyBT0gp1TVw0Ha4Zhi1oprSBCbk9VD96UJw"></script>
    <style type="text/css">
        /* Set a size for our map container, the Google Map will take up 100% of this container */
        body {
            padding: 0;
            margin: 0;
        }
        html, body, #map {
            height: 100%;
            width: 100%;
        }
    </style>

    <script type="text/javascript">
        // When the window has finished loading create our google map below
        google.maps.event.addDomListener(window, 'load', init);

        function init() {

            var mapOptions = {
                zoom: 11,
                center: new google.maps.LatLng(42.445911, -71.089409),
                styles: [{"featureType":"administrative","elementType":"labels.text.fill","stylers":[{"color":"#444444"}]},{"featureType":"landscape","elementType":"all","stylers":[{"color":"#f2f2f2"}]},{"featureType":"poi","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"all","stylers":[{"saturation":-100},{"lightness":45}]},{"featureType":"road.highway","elementType":"all","stylers":[{"visibility":"simplified"}]},{"featureType":"road.arterial","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"transit","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"water","elementType":"all","stylers":[{"color":"#46bcec"},{"visibility":"on"}]}]
            };

            // Get the HTML DOM element that will contain your map
            // We are using a div with id="map" seen below in the <body>
            var mapElement = document.getElementById('map');

            // Create the Google Map using our element and options defined above
            var map = new google.maps.Map(mapElement, mapOptions);

            var infowindow = new google.maps.InfoWindow();




            var townsLayer = new google.maps.Data();

            townsLayer.loadGeoJson('towns/ARLINGTON.geojson');
            townsLayer.loadGeoJson('towns/BELMONT.geojson');
            townsLayer.loadGeoJson('towns/BOSTON.geojson');
            townsLayer.loadGeoJson('towns/BURLINGTON.geojson');
            townsLayer.loadGeoJson('towns/CAMBRIDGE.geojson');
            townsLayer.loadGeoJson('towns/CHELSEA.geojson');
            townsLayer.loadGeoJson('towns/EVERETT.geojson');
            townsLayer.loadGeoJson('towns/LEXINGTON.geojson');
            townsLayer.loadGeoJson('towns/MALDEN.geojson');
            townsLayer.loadGeoJson('towns/MEDFORD.geojson');
            townsLayer.loadGeoJson('towns/MELROSE.geojson');
            townsLayer.loadGeoJson('towns/READING.geojson');
            townsLayer.loadGeoJson('towns/REVERE.geojson');
            townsLayer.loadGeoJson('towns/SOMERVILLE.geojson');
            townsLayer.loadGeoJson('towns/STONEHAM.geojson');
            townsLayer.loadGeoJson('towns/WAKEFIELD.geojson');
            townsLayer.loadGeoJson('towns/WATERTOWN.geojson');
            townsLayer.loadGeoJson('towns/WILMINGTON.geojson');
            townsLayer.loadGeoJson('towns/WINCHESTER.geojson');
            townsLayer.loadGeoJson('towns/WINTHROP.geojson');
            townsLayer.loadGeoJson('towns/WOBURN.geojson');
            townsLayer.setStyle({
                fillColor: 'darkgrey',
                fillOpacity: 0.3,
                strokeWeight: 1,
                strokeColor: 'darkgrey',
                strokeOpacity: 0.7

            });

            townsLayer.setMap(map);

            var contribLayer = new google.maps.Data();
            contribLayer.loadGeoJson('contrib/ARLINGTON.geojson');
            contribLayer.loadGeoJson('contrib/BELMONT.geojson');
            contribLayer.loadGeoJson('contrib/BOSTON.geojson');
            contribLayer.loadGeoJson('contrib/BURLINGTON.geojson');
            contribLayer.loadGeoJson('contrib/CAMBRIDGE.geojson');
            contribLayer.loadGeoJson('contrib/CHELSEA.geojson');
            contribLayer.loadGeoJson('contrib/EVERETT.geojson');
            contribLayer.loadGeoJson('contrib/LEXINGTON.geojson');
            contribLayer.loadGeoJson('contrib/MALDEN.geojson');
            contribLayer.loadGeoJson('contrib/MEDFORD.geojson');
            contribLayer.loadGeoJson('contrib/MELROSE.geojson');
            contribLayer.loadGeoJson('contrib/READING.geojson');
            contribLayer.loadGeoJson('contrib/REVERE.geojson');
            contribLayer.loadGeoJson('contrib/SOMERVILLE.geojson');
            contribLayer.loadGeoJson('contrib/STONEHAM.geojson');
            contribLayer.loadGeoJson('contrib/WAKEFIELD.geojson');
            contribLayer.loadGeoJson('contrib/WATERTOWN.geojson');
            contribLayer.loadGeoJson('contrib/WILMINGTON.geojson');
            contribLayer.loadGeoJson('contrib/WINCHESTER.geojson');
            contribLayer.loadGeoJson('contrib/WINTHROP.geojson');
            contribLayer.loadGeoJson('contrib/WOBURN.geojson');
            contribLayer.setStyle({
                fillColor: 'red',
                fillOpacity: 0.5,
                strokeWeight: 1,
                strokeColor: 'darkgrey',
                strokeOpacity: 0.7

            });
            contribLayer.setMap(map);





/*            map.data.addListener('click', function (event) {
                if (event.feature.getGeometry().getType() === 'Polygon') {
                    var myHTML = event.feature.getProperty("TOWN");
                    infowindow.setContent("<div style='width:150px; text-align: center;'>"+myHTML+"</div>");
                    infowindow.setPosition(event.feature.getGeometry().center);
                   // infowindow.setOptions({pixelOffset: new google.maps.Size(0,-30)});
                    infowindow.open(map);
                };
            });*/
        }
    </script>
</head>
<body>


<!-- The element that will contain our Google Map. This is used in both the Javascript and CSS above. -->
<div id="map"></div>
</body>
</html>
